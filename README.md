# Паттерны с примерами на php

## Содержание
### Порождающие
#### [1. Одиночка (Singleton)](creational/singleton.php)
#### Основное назначение
– гарантировать существование только одно экземпляра класса. Причиной обычно является следующее: требуется только один объект исходного класса и Вам необходимо,  
что бы объект был доступен в любом месте приложения, т.е. глобальный доступ.
#### Определение
Шаблон Singleton предполагает наличие статического метода для создания экземпляра класса, при обращении к которому возвращается ссылка на оригинальный объект.  
#### Пример
У страны может быть только один президент. Он должен действовать, когда того требуют обстоятельства и долг. В данном случае президент — одиночка.  

#### [2. Фабрика (Factory)](creational/factory.php)
#### Определение
Функция, которая: выбирает нужный класс, создает объект и возвращает его наружу, называется фабрикой
#### Когда использовать?
Когда создание объекта подразумевает какую-то логику, а не просто несколько присваиваний,  
то имеет смысл делегировать задачу выделенной фабрике, а не повторять повсюду один и тот же код.

#### [3. Фабричный метод (Factory method)](creational/factory_method.php)
#### Определение
Фабричный метод задаёт метод, который следует использовать вместо вызова оператора new для создания объектов-продуктов.  
Подклассы могут переопределить этот метод, чтобы изменять тип создаваемых продуктов.  
В общем случае фабрикой называют всё подряд, что создает объект или коллекции объектов.
#### Когда использовать?
Этот шаблон полезен для каких-то общих обработок в классе, но требуемые подклассы динамически определяются в ходе выполнения (runtime).  
То есть когда клиент не знает, какой именно подкласс может ему понадобиться.

#### [4. Статичная фабрика (Static factory)](creational/static_factory.php)
#### Определение

#### [5. Абстрактная фабрика (Abstact factory)](creational/abstract_factory.php)
#### Определение
Это фабрика фабрик. То есть фабрика, группирующая индивидуальные, но взаимосвязанные/взаимозависимые фабрики без указания для них конкретных классов.
#### Когда использовать?
Когда у вас есть взаимосвязи с не самой простой логикой создания (creation logic).

#### [6. Строитель (Builder)](creational/builder.php)
#### Определение
Шаблон позволяет создавать разные свойства объекта, избегая загрязнения конструктора (constructor pollution). Это полезно, когда у объекта может быть несколько свойств.  
Или когда создание объекта состоит из большого количества этапов.
#### Когда использовать?
Когда у объекта может быть несколько свойств и когда нужно избежать Telescoping constructor. 
Ключевое отличие от шаблона «Простая фабрика»: он используется в одноэтапном создании, а «Строитель» — в многоэтапном.  
Поясню, что такое антипаттерн Telescoping constructor. Каждый из нас когда-либо сталкивался с подобным конструктором:  
```php
public function __construct($size, $cheese = true, $pepperoni = true, $tomato = false, $lettuce = true)
{
}
```
Как видите, количество параметров может быстро разрастись, и станет трудно разобраться в их структуре.  
Кроме того, этот список параметров будет расти и дальше, если в будущем вы захотите добавить новые опции.  
Это и есть антипаттерн Telescoping constructor.  


#### [7. Прототип (Prototype)](creational/prototype.php)
#### Определение
Объект создаётся посредством клонирования существующего объекта.
#### Когда использовать?
Когда необходимый объект аналогичен уже существующему или когда создание с нуля дороже клонирования.

---
